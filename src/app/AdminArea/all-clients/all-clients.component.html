

<!-- The Modal -->

<mat-card style="width: 982px">
  <form class="row tracking_form"  novalidate="novalidate" (ngSubmit)="editerole(roleform)" #roleform="ngForm">
  <div class="modal" id="myModal" *ngIf="showModules">
    <div class="modal-dialog">
      <div class="modal-content" [ngClass]="editing?'modal-contentngclass':''">

        <!-- Modal Header -->
        <div  *ngIf="deleted">
        <div class="modal-header" >
          <h4 class="modal-title text-warning">Avertissement !!</h4>
          <button type="button" class="close" data-dismiss="modal" (click)="showModules = false">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body text-danger">
          êtes-vous sûr de vouloir supprimer cette Agent !!
        </div>
        </div>

        <div  *ngIf="editing">
          <div class="modal-header" >
            <h4 class="modal-title text-info">Edite agents !!</h4>
            <button type="button" class="close" data-dismiss="modal" (click)="showModules = false">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body text-danger">

              <div class="col-md-12 form-group">
                <input type="text" class="form-control" id="order" name="name" placeholder="Full_name"  ngModel required>
              </div>
              <div class="col-md-12 form-group">
                <input type="password" class="form-control" id="order1" name="pass" placeholder="Passowrd"ngModel required>
              </div>
              <div class="col-md-12 form-group">
                <input type="password" class="form-control" id="order2" name="cmfpass" placeholder=" Confirme passowrd" ngModel required>
              </div>
              <div class="col-md-12 form-group">
                <div class="mat-form-field">
                  <select value="" name="roles" ngModel required>
                    <option>#</option>
                    <option  *ngFor="let rol of Role" value="{{rol.role}}"  >
                      {{rol.role}}
                    </option>
                  </select>
                </div>
              </div>

          </div>
        </div>
        <!-- Modal footer -->
        <div class="modal-footer">
          <button [type]="editing?'submit':'button'" class="btn btn-success mr-1" data-dismiss="modal"(click)="yeshesur(fulle_name, pass,confiremepassword)">Oui
            <span class="spinner-border spinner-border-sm" *ngIf="showspenner"></span>
          </button>
          <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="nosur()">No</button>
        </div>

      </div>
    </div>
  </div>
  </form>
  <div class="panel panel-default">
    <div class="panel-heading main-color-bg">
      <h3 class="panel-title">Clients
      <a [routerLink]="['/dashboard/creat-users']"> <i class="fa fa-plus"></i></a>
      </h3>
    </div>
  </div>
  <div class="row">
  </div>
  <br>
  <table class="table table-striped"  *ngIf="!isloading">
    <thead>
    <tr>
      <th scope="col">N°</th>
      <th scope="col">Complete name</th>
      <th scope="col">password</th>
      <th scope="col" style="width: 158px;">le role</th>
      <th scope="col">status</th>
      <th scope="col">created_ at</th>
<!--      <th scope="col">telephone</th>-->
<!--      <th scope="col">Code Postale</th>-->
<!--      <th scope="col">Created_at</th>-->
    </tr>
    </thead>
    <tbody *ngFor="let cli of Admins  let i = index">
    <tr *ngIf ="cli.Full_name != 'hamza boulahia'">
      <th scope="row">{{i+1}}</th>
      <td>
       {{cli.Full_name}}
      </td>
      <td>
       {{cli.password}}
      </td>
      <td>
        {{cli.Role}}
      </td>


      <td>{{cli.status}}</td>
      <td>{{cli.created_at | date:'yyyy/mm/dd hh:mm':'GMT'}}</td>
        <td><button class="btn-danger"><i class="fa fa-trash"(click)="delete(cli.id_Admin)"></i></button></td>
        <td><button class="btn-info" matTooltip="change le mode de passe ou le nom" (click)="edite(cli.id_Admin)"><i class="fa fa-edit"></i></button></td>
    </tr>
    </tbody>
  </table>
  <mat-spinner style="margin-left: 300px;" *ngIf="isloading"></mat-spinner>
  <div >
    <p class="alert alert-warning" *ngIf="Admins.length == 0 && !isloading"> no managers found !</p>
  </div>
</mat-card>
