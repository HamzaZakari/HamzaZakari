<div class="cart-popup-wrapper" role="dialog" aria-modal="true" aria-labelledby="CartPopupHeading" data-cart-popup-wrapper="" tabindex="-1" (click)="closemode()" *ngIf="coloseemodule">
  <div class="cart-popup" data-cart-popup="" tabindex="-1">
    <h2 id="CartPopupHeading" class="cart-popup__heading">Ajouté au panier à l'instant</h2>
    <button class="cart-popup__close" aria-label="Fermer" data-cart-popup-close="" (click)="closemode()"><svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-close" viewBox="0 0 40 40"><path d="M23.868 20.015L39.117 4.78c1.11-1.108 1.11-2.77 0-3.877-1.109-1.108-2.773-1.108-3.882 0L19.986 16.137 4.737.904C3.628-.204 1.965-.204.856.904c-1.11 1.108-1.11 2.77 0 3.877l15.249 15.234L.855 35.248c-1.108 1.108-1.108 2.77 0 3.877.555.554 1.248.831 1.942.831s1.386-.277 1.94-.83l15.25-15.234 15.248 15.233c.555.554 1.248.831 1.941.831s1.387-.277 1.941-.83c1.11-1.109 1.11-2.77 0-3.878L23.868 20.015z" class="layer"></path></svg></button>

    <div class="cart-popup-item"  *ngFor="let po of pupupcart">
      <div class="cart-popup-item__image-wrapper" data-cart-popup-image-wrapper="">
        <div class="cart-popup-item__image cart-popup-item__image--placeholder hide" data-cart-popup-image-placeholder="" style="max-width: 95px;">
          <div data-placeholder-size="" style="padding-top: 100%;"></div>
          <div class="placeholder-background placeholder-background--animation"></div>
        </div>
        <div class="cart-popup-item__image" [ngStyle]="{backgroundImage:'url('+ url+po.image+')'}">

          <img>
        </div>
      </div>
      <div class="cart-popup-item__description">
        <div>
          <div class="cart-popup-item__title" data-cart-popup-title="">{{po.poids}} {{po.title !='null'?po.title:''}}({{po.title_arab}})</div>
          <ul class="product-details" aria-label="Détails des produits" data-cart-popup-product-details=""><li class="product-details__item product-details__item--variant-option">Poids: {{po.poids}}</li></ul>
        </div>
        <div class="cart-popup-item__quantity">
          <span style="font-size: 13px" class="visually-hidden" data-cart-popup-quantity-label="">Quantité&nbsp;: {{po.qtyPanier}}</span>
          <span style="font-size: 13px"  aria-hidden="true">Qté:</span>
          <span style="font-size: 11px"  aria-hidden="true" data-cart-popup-quantity="">{{po.qtyPanier}}</span>
        </div>
      </div>
    </div>

    <a [routerLink]="['/panier']" class="cart-popup__cta-link btn btn--secondary-accent">
      Voir le panier (<span data-cart-popup-cart-quantity="" aria-label="4 articles" style="font-size: 9px">{{pupdata.length}}</span>)
    </a>

    <!--    <div class="cart-popup__dismiss">-->
    <!--      <button class="cart-popup__dismiss-button text-link text-link&#45;&#45;accent" data-cart-popup-dismiss="">-->
    <!--        Poursuivre vos achats-->
    <!--      </button>-->
    <!--    </div>-->
  </div>
</div>
<app-secondnavbar></app-secondnavbar>
<div class="container mt-lg-5">
  <br/>
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8" id="search">
      <div class="card-body row no-gutters align-items-center mt-lg-5">
        <!--end of col-->
      </div>
    </div>
    <!--end of col-->
  </div>
  <div class="panel-body"*ngIf="isloading2">
  <div class="spinner-border" ></div>
    <br><br><br><br> <br><br><br><br>
  </div>
</div>

<div class="img-circle mt-lg-5"  [ngStyle]="{backgroundImage: 'url('+ url+imagecat +')'}" *ngIf="!isloading2">
  <p class="para" *ngIf="titlecat !='null'">{{titlecat}}</p>
  <p class="para" *ngIf="titlearab !='null' && titlecat =='null'">{{titlearab}}</p>
</div>
<div class="mt-lg-5 formss" *ngIf="!isloading2">

  <hr>
  <div class="container h-100">
    <p *ngIf="checkbtn == true">
      <ngb-alert [dismissible]="false">
        <strong>Warning!</strong>{{msg}}
        <button class="btn btn-close" (click)="close()">X</button>
      </ngb-alert>
    </p>
    <div class="panel-body">
      <div class=" float-left">
        <p class="total_pro">{{Produits.length}} Produits</p>
        <hr>
      </div>
      <div class="searchbar float-right" >
        <input class="search_input" type="text" name="" placeholder="recherche..." [(ngModel)]="element.value" #element (keyup)="search(element.value)">
        <a class="search_icon "><i class="fa fa-search"></i></a>
      </div>
    </div>
  </div>
  <hr>
</div>
<div class="container">
    <h3 class="h3 myerr" *ngIf="Produits.length == 0 && !isloading2"><p  class="alert alert-warning ">Aucun Produit Trouvé</p></h3>
  <div class="row mymargin">
    <div class="col-md-3 col-sm-3 col-6" *ngFor="let pro of Produits">
      <div class="product-grid">
        <div class="product-image" [ngClass]="pro.quantity == 0 ? 'epuisee': ''"  [ngStyle]="{backgroundImage: 'url('+ url + pro.image +')'}">
          <a  class="images">
            <img class="pic-1" >
            <!--              <img class="pic-2" src="http://bestjquery.com/tutorial/product-grid/demo9/images/img-1.jpg">-->
          </a>
          <ul class="social">
            <li><a [routerLink]="['/product_detail',pro.id]"data-tip="Aperçu rapide"><i class="fa fa-eye"></i></a></li>
            <!--              <li><a href="" data-tip="Add to Wishlist"><i class="fa fa-shopping-bag"></i></a></li>-->
            <li class="cartadd" *ngIf="pro.quantity !==0"><a  data-tip="Ajouter au panier" (click)="addtocart(pro.id,pro.poids)"><i class="fa fa-shopping-cart"></i></a></li>
          </ul>
          <span class="product-new-label" *ngIf="pro.state === 'BIO'">{{pro.state}}</span>
<!--          <span class="product-discount-label" *ngIf="pro.quantity !=0">New</span>-->
          <span class="product-discount-label text-danger" *ngIf="pro.quantity == 0">Épuisé</span>
        </div>
        <div class="product-content" [ngClass]="pro.quantity == 0 ?'epuisees':''">
          <h3 class="title"><span *ngIf="pro.poids !='null' && pro.quantity !=0 ">{{pro.poids}}</span><a [routerLink]="['/product_detail',pro.id]" ><span *ngIf="pro.title !='null'">{{pro.title}} </span ><small class="tiarabe" *ngIf="pro.titlearab !='null'">{{pro.titlearab}}</small></a></h3>
          <div class="price" *ngIf="pro.quantity !=0">{{(pro.pricep?pro.pricep : pro.price) | currency:'DH' }}
            <span *ngIf="pro.pricep">{{pro.price|currency:'DH'}}</span>
          </div>
          <a class="add-to-cart" (click)="addtocart(pro.id,pro.poids)"style="cursor: pointer" *ngIf="pro.quantity !=0">+ Au panier</a>
          <a class="text-danger"  *ngIf="pro.quantity ==0">Épuisé</a>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>

